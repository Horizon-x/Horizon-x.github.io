<!DOCTYPE html><html lang="zh-CN"><head><link href="https://cdn.jsdelivr.net/npm/hexo-widget-tree@0.1.1/css/index.css" rel="stylesheet"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="theme-color" content="#0078E7"><meta name="author" content="ONESTONE"><meta name="copyright" content="ONESTONE"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>HotSpotå¯¹synchronizedçš„é”ä¼˜åŒ–ç­–ç•¥ | ä¸Šé€²å¿ƒçš„å°ç«™</title><link rel="stylesheet" href="https://fonts.font.im/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal(){[".post-card",".post-content img"].forEach(e=>{ScrollReveal().reveal(e)})}document.addEventListener("DOMContentLoaded",initScrollReveal),document.addEventListener("pjax:success",initScrollReveal)</script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.css"><script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.min.js"></script><script>document.addEventListener("DOMContentLoaded",()=>{Yun.utils.renderKatex()})</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme:light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme:dark)"><link rel="icon" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><script id="yun-config">const Yun=window.Yun||{};window.CONFIG={hostname:"www.onexstone.online",root:"/",title:"ä¸Šé€²å¿ƒçš„å°ç«™",version:"1.6.2",mode:"auto",copycode:!0,page:{isPost:!0},i18n:{placeholder:"Search or jump to...",empty:"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}",hits:"æ‰¾åˆ° ${hits} æ¡ç»“æœ",hits_time:"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},anonymous_image:"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg",say:{api:"https://v1.hitokoto.cn",hitokoto:!0},local_search:{path:"/search.xml"},fireworks:{colors:["102, 167, 221","62, 131, 225","33, 78, 194"]}}</script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="alternate" href="/atom.xml" title="ä¸Šé€²å¿ƒçš„å°ç«™" type="application/atom+xml"><script src="/js/custom/change-site-title.js" defer></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><meta name="description" content="synchronized åº•å±‚å®ç°çš„å„ç§é”ä¹‹é—´çš„è½¬æ¢åŠä¼˜åŒ–"><meta property="og:type" content="article"><meta property="og:title" content="HotSpotå¯¹synchronizedçš„é”ä¼˜åŒ–ç­–ç•¥"><meta property="og:url" content="https://www.onexstone.online/posts/fa978b73/index.html"><meta property="og:site_name" content="ä¸Šé€²å¿ƒçš„å°ç«™"><meta property="og:description" content="synchronized åº•å±‚å®ç°çš„å„ç§é”ä¹‹é—´çš„è½¬æ¢åŠä¼˜åŒ–"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://oscimg.oschina.net/oscnet/up-b0a8f655de500fa0e05fc032bb6a745f44c.png"><meta property="og:image" content="https://oscimg.oschina.net/oscnet/up-acb21bcef91338761f89f308b969f7f55b5.png"><meta property="og:image" content="https://oscimg.oschina.net/oscnet/up-3faf976288002b69d07739eca003ee00b5a.png"><meta property="og:image" content="https://oscimg.oschina.net/oscnet/up-414b524aabfc30650be11c7cb61aa6d967b.jpg"><meta property="og:image" content="https://oscimg.oschina.net/oscnet/up-ed9de5433763789cda52a477b74e266716f.jpg"><meta property="og:image" content="https://oscimg.oschina.net/oscnet/up-1436d3a82486bc4f5927ee59a70628508ea.jpg"><meta property="og:image" content="https://oscimg.oschina.net/oscnet/up-167e465fde230a8263bbdab7c5f58a1361f.jpg"><meta property="og:image" content="https://oscimg.oschina.net/oscnet/up-a3abf82e7c1285060264a8a692cdc86c58e.png"><meta property="article:published_time" content="2021-10-02T09:34:53.000Z"><meta property="article:modified_time" content="2021-10-15T12:06:19.756Z"><meta property="article:author" content="ONESTONE"><meta property="article:tag" content="JVM"><meta property="article:tag" content="Java"><meta property="article:tag" content="é”ä¼˜åŒ–ç­–ç•¥"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://oscimg.oschina.net/oscnet/up-b0a8f655de500fa0e05fc032bb6a745f44c.png"><script src="/js/ui/mode.js"></script><script src="/js/webpushr/webpushr-sw.js"></script><script src="/js/fancybox/jquery.min.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="ONESTONE"><img width="96" loading="lazy" src="https://cdn.jsdelivr.net/gh/horizon-x/imagesCDN/img/avatar-auther.png" alt="ONESTONE"><span class="site-author-status" title="æ°¸è¿œç›¸ä¿¡ç¾å¥½çš„äº‹æƒ…å³å°†å‘ç”Ÿ">ğŸ˜Š</span></a><div class="site-author-name"><a href="/about/">ONESTONE</a></div><span class="site-name">ä¸Šé€²å¿ƒçš„å°ç«™</span><sub class="site-subtitle">Miracles happen every day.</sub><div class="site-desciption">æ—¢ç„¶é€‰æ‹©äº†è¿œæ–¹ï¼Œä¾¿åªé¡¾é£é›¨å…¼ç¨‹</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">11</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">7</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">11</span></a></div><a class="site-state-item hty-icon-button" href="/shuoshuo/" title="TZone"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://z3.ax1x.com/2021/09/25/4sPUZF.png" title="QQ" target="_blank" style="color:#12b7f5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Horizon-x" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="http://music.163.com/m/user/home?id=107106147" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#c20c0c"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://b23.tv/vfwGMM" title="bilibili" target="_blank" style="color:#ff8eb3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://my.oschina.net/onexstone" title="OSCHINA" target="_blank" style="color:#08c"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-fill"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://z3.ax1x.com/2021/09/24/4DSw9K.png" title="å¾®ä¿¡å…¬ä¼—å·" target="_blank" style="color:#1aad19"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-2-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:paoxbin@qq.com" title="E-Mail" target="_blank" style="color:#8e71c1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://travellings.link" title="Travelling" target="_blank" style="color:var(--hty-text-color)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-train-line"></use></svg></a></div><hr style="margin:.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/albums/" title="Time Machine" style="color:#1e90ff"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-gallery-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color:#f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-%E5%AF%B9%E8%B1%A1%E5%A4%B4%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84"><span class="toc-number">2.</span> <span class="toc-text">Java å¯¹è±¡å¤´å­˜å‚¨ç»“æ„</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Mark-Word"><span class="toc-number">2.1.</span> <span class="toc-text">Mark Word</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E9%87%8F%E7%BA%A7%E9%94%81"><span class="toc-number">3.</span> <span class="toc-text">é‡é‡çº§é”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%BB%E9%87%8F%E7%BA%A7%E9%94%81"><span class="toc-number">4.</span> <span class="toc-text">è½»é‡çº§é”</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E9%94%81-gt-%E8%BD%BB%E9%87%8F%E7%BA%A7%E9%94%81"><span class="toc-number">4.1.</span> <span class="toc-text">æ— é” -&gt; è½»é‡çº§é”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%BB%E9%87%8F%E7%BA%A7%E9%94%81-gt-%E6%97%A0%E9%94%81"><span class="toc-number">4.2.</span> <span class="toc-text">è½»é‡çº§é” -&gt; æ— é”</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%81%8F%E5%90%91%E9%94%81"><span class="toc-number">5.</span> <span class="toc-text">åå‘é”</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E9%94%81-gt-%E5%81%8F%E5%90%91%E9%94%81"><span class="toc-number">5.1.</span> <span class="toc-text">æ— é” -&gt; åå‘é”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%81%8F%E5%90%91%E9%94%81-gt-%E6%97%A0%E9%94%81-%E8%BD%BB%E9%87%8F%E7%BA%A7%E9%94%81"><span class="toc-number">5.2.</span> <span class="toc-text">åå‘é” -&gt; æ— é” &#x2F; è½»é‡çº§é”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%81%8F%E5%90%91%E9%94%81%E7%9A%84%E5%B1%80%E9%99%90%E6%80%A7"><span class="toc-number">5.3.</span> <span class="toc-text">åå‘é”çš„å±€é™æ€§</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">6.</span> <span class="toc-text">æ€»ç»“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"><span class="toc-number">7.</span> <span class="toc-text">å‚è€ƒæ–‡çŒ®</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://www.onexstone.online/posts/fa978b73/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="ONESTONE"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="ä¸Šé€²å¿ƒçš„å°ç«™"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">HotSpotå¯¹synchronizedçš„é”ä¼˜åŒ–ç­–ç•¥</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span><time title="åˆ›å»ºæ—¶é—´ï¼š2021-10-02 17:34:53" itemprop="dateCreated datePublished" datetime="2021-10-02T17:34:53+08:00">2021-10-02</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span><time title="ä¿®æ”¹æ—¶é—´ï¼š2021-10-15 20:06:19" itemprop="dateModified" datetime="2021-10-15T20:06:19+08:00">2021-10-15</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="æœ¬æ–‡å­—æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span><span title="æœ¬æ–‡å­—æ•°">2.4k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ—¶é•¿"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span><span title="é˜…è¯»æ—¶é•¿">9m</span></span></span><span class="leancloud_visitors" id="/posts/fa978b73/" data-flag-title="HotSpotå¯¹synchronizedçš„é”ä¼˜åŒ–ç­–ç•¥"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ¬¡æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span class="leancloud-visitors-count"></span></span></span><span class="post-meta-divider">-</span><a href="#comment"><span class="post-meta-item-icon" title="è¯„è®ºæ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-chat-3-line"></use></svg> <span class="waline-comment-count" id="/posts/fa978b73/"></span></span></a><div class="post-classify"><span class="post-category"><span class="post-meta-item-icon" style="margin-right:3px"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/Java/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Java</span></a></span> > <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/Java/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Javaå¹¶å‘ç¼–ç¨‹</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/JVM/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">JVM</span></a><a class="tag-item" href="/tags/Java/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Java</span></a><a class="tag-item" href="/tags/%E9%94%81%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">é”ä¼˜åŒ–ç­–ç•¥</span></a></span></div><div class="post-author"><span class="author-name">ONESTONE</span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7"><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><ul><li>å‡¡æ˜¯æœ‰è¿‡ Java å¹¶å‘ç¼–ç¨‹ç»éªŒçš„éƒ½åº”è¯¥äº†è§£åœ¨ JDK 6 åŠä»¥åä¸­å¯¹é”ä¸€å…±æœ‰å››ç§çŠ¶æ€çš„æè¿°ï¼Œåˆ†åˆ«æ˜¯ï¼šæ— é”çŠ¶æ€ã€åå‘é”çŠ¶æ€ã€è½»é‡çº§é”çŠ¶æ€å’Œé‡é‡çº§é”çŠ¶æ€ï¼Œè¿™äº›éƒ½æ˜¯ HotSpot è™šæ‹Ÿæœºå¯¹ synchronized å®ç°çš„é”æœºåˆ¶åšçš„è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚æ­£å¥½ç¬”è€…æœ€è¿‘åœ¨ç¿»é˜…ç›¸å…³çš„èµ„æ–™ï¼Œå› æ­¤è§‰å¾—æœ‰å¿…è¦è®°å½•ä¸€ä¸‹æœ‰å…³ synchronized çš„é”ä¼˜åŒ–ç›¸å…³é—®é¢˜ã€‚<span id="more"></span></li></ul><h3 id="Java-å¯¹è±¡å¤´å­˜å‚¨ç»“æ„"><a href="#Java-å¯¹è±¡å¤´å­˜å‚¨ç»“æ„" class="headerlink" title="Java å¯¹è±¡å¤´å­˜å‚¨ç»“æ„"></a>Java å¯¹è±¡å¤´å­˜å‚¨ç»“æ„</h3><ul><li>åœ¨ Java ä¸­ï¼Œç»å¤§éƒ¨åˆ†çš„é”ä¿¡æ¯éƒ½æ˜¯å­˜å‚¨äºå¯¹è±¡å¤´ä¿¡æ¯ä¸­ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å…ˆå¯¹ Java å¯¹è±¡å¤´çš„å­˜å‚¨ç»“æ„è¿›è¡Œåˆ†æï¼Œä»¥ä¾¿æ›´å¥½åœ°äº†è§£å„ç§é”çš„å®ç°åŸç†ã€‚</li></ul><ol><li>åœ¨ HotSpot è™šæ‹Ÿæœºä¸­ï¼Œéæ•°ç»„å¯¹è±¡å¤´ä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼ˆå¦‚æœæ˜¯æ•°ç»„å¯¹è±¡åˆ™ä¸ºä¸‰éƒ¨åˆ†ï¼‰ï¼Œåˆ†åˆ«æ˜¯å­˜å‚¨å¯¹è±¡çš„è¿è¡Œæ—¶æ•°æ®ï¼Œå¦‚å“ˆå¸Œç ã€GC åˆ†ä»£å¹´é¾„ã€é”ä¿¡æ¯ç­‰ï¼Œè¿™éƒ¨åˆ†ä¹Ÿè¢«å®˜æ–¹ç§°ä¸º <code>Mark Word</code>ï¼›å¦ä¸€éƒ¨åˆ†åˆ™æ˜¯å­˜å‚¨æŒ‡å‘æ–¹æ³•åŒºå¯¹è±¡ç±»å‹æ•°æ®çš„æŒ‡é’ˆï¼›ï¼ˆå¦‚æœæ˜¯æ•°ç»„å¯¹è±¡åˆ™æœ‰ç¬¬ä¸‰éƒ¨åˆ†ç”¨äºå­˜å‚¨æ•°ç»„çš„é•¿åº¦ï¼‰ï¼Œå…·ä½“çš„ç»“æ„å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</li></ol><p><img src="https://oscimg.oschina.net/oscnet/up-b0a8f655de500fa0e05fc032bb6a745f44c.png" alt="è¡¨1 Java å¯¹è±¡å¤´å­˜å‚¨ç»“æ„" loading="lazy"></p><blockquote><ul><li>HotSpot è™šæ‹Ÿæœºä¸­ä½¿ç”¨ 2 å­—å®½å­˜å‚¨éæ•°ç»„å¯¹è±¡çš„å¯¹è±¡å¤´ä¿¡æ¯ï¼Œä½¿ç”¨ 3 å­å®½å­˜å‚¨æ•°ç»„å¯¹è±¡çš„å¯¹è±¡å¤´ä¿¡æ¯ï¼›</li><li>åœ¨ 32 ä½ JVM ä¸­ï¼Œ1 å­—å®½ç­‰äº 4 å­—èŠ‚ï¼Œ1 å­—èŠ‚ç­‰äº 8 ä½ï¼Œå³ 32 ä½ï¼›</li><li>åœ¨ 64 ä½ JVM ä¸­ï¼Œ1 å­—å®½ç­‰äº 8 å­—èŠ‚ï¼Œ1 å­—èŠ‚ç­‰äº 8 ä½ï¼Œå³ 64 ä½ï¼›</li></ul></blockquote><h4 id="Mark-Word"><a href="#Mark-Word" class="headerlink" title="Mark Word"></a>Mark Word</h4><ul><li>æ ¹æ®ä¸Šè¿°åˆ†ææˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸é”ç›¸å…³çš„ä¿¡æ¯éƒ½ä¼šè¢« JVM å­˜å‚¨åœ¨ <code>Mark Word</code> ä¸­ã€‚</li></ul><ol><li>ç”±äºå¯¹è±¡å¤´å­˜å‚¨çš„æ˜¯ä¸å¯¹è±¡è‡ªèº«å®šä¹‰æ•°æ®æ— å…³çš„é¢å¤–ä¿¡æ¯ï¼Œå› æ­¤ HotSpot å®˜æ–¹ä¸ºäº†è¿›ä¸€æ­¥æé«˜ JVM çš„ç©ºé—´ä½¿ç”¨æ•ˆç‡ï¼ŒæŠŠ <code>Mark Word</code> éƒ¨åˆ†è®¾è®¡æˆäº† <strong>éå›ºå®šçš„æ•°æ®ç»“æ„</strong>ï¼Œå³å…¶ä¸­çš„æ•°æ®ç»“æ„ä¼šéšç€å¯¹è±¡çŠ¶æ€çš„å˜åŒ–è€Œæœ‰æ‰€ä¸åŒï¼Œä»¥ä¾¿åœ¨æå°çš„ç©ºé—´ä¸­å­˜å‚¨å°½å¯èƒ½å¤šçš„ä¿¡æ¯ã€‚</li><li>HotSpot å®˜æ–¹åœ¨ <a target="_blank" rel="noopener" href="http://hg.openjdk.java.net/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/oops/markOop.hpp">markOop.hpp</a> ä¸­å¯¹ <code>Mark Word</code> çš„å­˜å‚¨ç»“æ„æè¿°å¦‚ä¸‹ï¼š</li></ol><pre class="line-numbers language-hpp" data-language="hpp"><code class="language-hpp">&#x2F;&#x2F; The markOop describes the header of an object.
&#x2F;&#x2F;
&#x2F;&#x2F; Note that the mark is not a real oop but just a word.
&#x2F;&#x2F; It is placed in the oop hierarchy for historical reasons.
&#x2F;&#x2F;
&#x2F;&#x2F; Bit-format of an object header (most significant first, big endian layout below):
&#x2F;&#x2F;
&#x2F;&#x2F;  32 bits:
&#x2F;&#x2F;  --------
&#x2F;&#x2F;             hash:25 ------------&gt;| age:4    biased_lock:1 lock:2 (normal object)
&#x2F;&#x2F;             JavaThread*:23 epoch:2 age:4    biased_lock:1 lock:2 (biased object)
&#x2F;&#x2F;             size:32 ------------------------------------------&gt;| (CMS free block)
&#x2F;&#x2F;             PromotedObject*:29 ----------&gt;| promo_bits:3 -----&gt;| (CMS promoted object)
&#x2F;&#x2F;
&#x2F;&#x2F;  64 bits:
&#x2F;&#x2F;  --------
&#x2F;&#x2F;  unused:25 hash:31 --&gt;| unused:1   age:4    biased_lock:1 lock:2 (normal object)
&#x2F;&#x2F;  JavaThread*:54 epoch:2 unused:1   age:4    biased_lock:1 lock:2 (biased object)
&#x2F;&#x2F;  PromotedObject*:61 ---------------------&gt;| promo_bits:3 -----&gt;| (CMS promoted object)
&#x2F;&#x2F;  size:64 -----------------------------------------------------&gt;| (CMS free block)
&#x2F;&#x2F;
&#x2F;&#x2F;  unused:25 hash:31 --&gt;| cms_free:1 age:4    biased_lock:1 lock:2 (COOPs &amp;&amp; normal object)
&#x2F;&#x2F;  JavaThread*:54 epoch:2 cms_free:1 age:4    biased_lock:1 lock:2 (COOPs &amp;&amp; biased object)
&#x2F;&#x2F;  narrowOop:32 unused:24 cms_free:1 unused:4 promo_bits:3 -----&gt;| (COOPs &amp;&amp; CMS promoted object)
&#x2F;&#x2F;  unused:21 size:35 --&gt;| cms_free:1 unused:7 ------------------&gt;| (COOPs &amp;&amp; CMS free block)
&#x2F;&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ç”±æ­¤å¯ä»¥å¾—çŸ¥ï¼Œ<code>Mark Word</code> çš„å­˜å‚¨ç»“æ„ä¸»è¦æ˜¯ä¼šéšç€å¯¹è±¡çš„é”çŠ¶æ€çš„å˜åŒ–è€Œå˜åŒ–ï¼Œå¯¹åº”çš„å››ç§é”çŠ¶æ€å¦‚ä¸‹ä¸¤è¡¨æ‰€ç¤ºï¼š</li></ul><p><img src="https://oscimg.oschina.net/oscnet/up-acb21bcef91338761f89f308b969f7f55b5.png" alt="è¡¨2  32 ä½ HotSpot è™šæ‹Ÿæœºå¯¹è±¡å¤´çš„ Mark Word ç»“æ„" loading="lazy"></p><p><img src="https://oscimg.oschina.net/oscnet/up-3faf976288002b69d07739eca003ee00b5a.png" alt="è¡¨3   64 ä½ HotSpot è™šæ‹Ÿæœºå¯¹è±¡å¤´çš„ Mark Word ç»“æ„" loading="lazy"></p><blockquote><p>ä¸ºäº†è¡Œæ–‡æ–¹ä¾¿ï¼Œæœ¬æ–‡ä½™ä¸‹çš„åˆ†æå‡æ˜¯åŸºäº 32 ä½ HotSpot è™šæ‹Ÿæœºè¿›è¡Œåˆ†æã€‚</p></blockquote><h3 id="é‡é‡çº§é”"><a href="#é‡é‡çº§é”" class="headerlink" title="é‡é‡çº§é”"></a>é‡é‡çº§é”</h3><ul><li>æœªä¼˜åŒ–å‰çš„ synchronized åŒæ­¥è¯­ä¹‰ã€‚</li><li>synchronized æ˜¯é€šè¿‡å¯¹è±¡å†…éƒ¨çš„ä¸€ä¸ªå«åšç›‘è§†å™¨é”ï¼ˆmonitorï¼‰æ¥å®ç°çš„ã€‚ä½†æ˜¯ç›‘è§†å™¨é”æœ¬è´¨åˆæ˜¯ä¾èµ–äºåº•å±‚çš„æ“ä½œç³»ç»Ÿçš„ Mutex Lock æ¥å®ç°çš„ã€‚è€Œæ“ä½œç³»ç»Ÿå®ç°çº¿ç¨‹ä¹‹é—´çš„åˆ‡æ¢è¿™å°±éœ€è¦ä»ç”¨æˆ·æ€è½¬æ¢åˆ°æ ¸å¿ƒæ€ï¼Œè¿™ä¸ªæˆæœ¬éå¸¸é«˜ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆSynchronizedæ•ˆç‡ä½çš„åŸå› ã€‚ï¼ˆå¦‚æœå¯¹ synchronized çš„åº•å±‚åŸç†ä¸å¤ªäº†è§£ï¼Œå¯ä»¥å…ˆé˜…è¯»ç¬”è€…çš„å¦ä¸€ç¯‡æ–‡ç« ï¼š<a target="_blank" rel="noopener" href="https://my.oschina.net/onexstone/blog/5272662">Javaä¸­ä¿è¯çº¿ç¨‹å®‰å…¨çš„ä¸‰æ¿æ–§</a>ï¼‰</li><li>å› æ­¤ï¼Œè¿™ç§ä¾èµ–äºæ“ä½œç³»ç»ŸMutex Lockæ‰€å®ç°çš„é”æˆ‘ä»¬ç§°ä¹‹ä¸º â€œé‡é‡çº§é”â€ã€‚</li></ul><h3 id="è½»é‡çº§é”"><a href="#è½»é‡çº§é”" class="headerlink" title="è½»é‡çº§é”"></a>è½»é‡çº§é”</h3><ul><li>æå‡æ€§èƒ½çš„ä¾æ®ï¼ˆç»éªŒæ³•åˆ™ï¼‰ï¼šå¯¹äºç»å¤§éƒ¨åˆ†çš„é”ï¼Œåœ¨æ•´ä¸ªåŒæ­¥æœŸé—´éƒ½æ˜¯ä¸å­˜åœ¨ç«äº‰çš„ã€‚</li><li>æœ¬è´¨ï¼šé€šè¿‡åœ¨æ— ç«äº‰çš„æƒ…å†µä¸‹ä½¿ç”¨ CAS æ“ä½œå»æ¶ˆé™¤äº’æ–¥åŒæ­¥ä½¿ç”¨çš„äº’æ–¥é‡ã€‚</li><li>è½»é‡çº§é”çš„è·å–é”ä¸é‡Šæ”¾é”çš„æµç¨‹å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</li></ul><p><img src="https://oscimg.oschina.net/oscnet/up-414b524aabfc30650be11c7cb61aa6d967b.jpg" alt="å›¾1 è½»é‡çº§é”çš„åŠ é”ä¸é‡Šæ”¾é”çš„æµç¨‹å›¾" loading="lazy"></p><h4 id="æ— é”-gt-è½»é‡çº§é”"><a href="#æ— é”-gt-è½»é‡çº§é”" class="headerlink" title="æ— é” -&gt; è½»é‡çº§é”"></a>æ— é” -&gt; è½»é‡çº§é”</h4><p><img src="https://oscimg.oschina.net/oscnet/up-ed9de5433763789cda52a477b74e266716f.jpg" alt="å›¾2 æ— é”çŠ¶æ€æ—¶çš„æ ˆå¸§ä¸å¯¹è±¡çŠ¶æ€" loading="lazy"></p><ol><li>è‹¥å¯¹è±¡çš„ <code>Mark Word</code> çš„é”æ ‡å¿—ä½ä¸º 01 ï¼ˆåå‘æ ‡å¿—ä½ä¸º 0 ï¼‰ï¼Œå³æ— é”çŠ¶æ€æ—¶ï¼Œè™šæ‹Ÿæœºé¦–å…ˆä¼šåœ¨å½“å‰çº¿ç¨‹çš„æ ˆå¸§ä¸­åˆ›å»ºä¸€ä¸ªåä¸º â€œé”è®°å½•â€ï¼ˆLock Recordï¼‰ çš„ç©ºé—´ï¼Œä¸“é—¨ç”¨äºå­˜æ”¾å½“å‰å¾…é”å¯¹è±¡çš„ <code>Mark Word</code> çš„å‰¯æœ¬ï¼ˆDisplaced Mark Wordï¼‰ï¼›</li><li>è™šæ‹Ÿæœºå°†ä½¿ç”¨ CAS çš„æ–¹å¼å°è¯•æŠŠå½“å‰å¯¹è±¡ <code>Mark Word</code> ä¸­çš„å‰ 29 bit æ›´æ–°ä¸ºæŒ‡å‘ â€œé”è®°å½•â€ çš„æŒ‡é’ˆï¼›</li><li>è‹¥ä¸Šè¿°æ“ä½œæ›´æ–°æˆåŠŸï¼Œåˆ™å½“å‰çº¿ç¨‹æˆåŠŸæ‹¥æœ‰è¯¥å¯¹è±¡çš„é”ï¼Œå¹¶ä¸”æŠŠå¯¹åº”çš„é”æ ‡å¿—ä½ç½®ä¸º 00ï¼Œè¡¨ç¤ºæ­¤æ—¶è¯¥å¯¹è±¡å¤„äºè½»é‡çº§é”çŠ¶æ€ï¼›</li><li>è‹¥æ“ä½œæ‰§è¡Œå¤±è´¥ï¼Œåˆ™è¯´æ˜ç›®å‰æœ‰å…¶ä»–çº¿ç¨‹åœ¨ç«äº‰è·å–è¯¥å¯¹è±¡çš„é”ï¼Œæ­¤æ—¶ï¼Œè™šæ‹Ÿæœºä¼šå…ˆå»æ£€æŸ¥å½“å‰å¯¹è±¡çš„ <code>Mark Word</code> æ˜¯å¦æŒ‡å‘å½“å‰å¾…è·å–é”çš„çº¿ç¨‹çš„æ ˆå¸§ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¯´æ˜è¯¥çº¿ç¨‹å·²ç»è·å–äº†è¯¥å¯¹è±¡çš„é”ï¼Œç›´æ¥è¿›å…¥åŒæ­¥å—ç»§ç»­æ‰§è¡Œï¼›</li><li>å¦‚æœå½“å‰å¯¹è±¡çš„ <code>Mark Word</code> ä¸æ˜¯æŒ‡å‘å½“å‰çº¿ç¨‹çš„æ ˆå¸§ï¼Œåˆ™è¯´æ˜ç›®å‰æœ‰å…¶ä»–çº¿ç¨‹å·²ç»è·å¾—äº†è¯¥å¯¹è±¡çš„é”ï¼Œ<strong>è‹¥å‡ºç°ä¸¤æ¡ä»¥ä¸Šçš„çº¿ç¨‹åŒæ—¶ç«äº‰åŒä¸€ä¸ªé”æ—¶ï¼Œè½»é‡çº§é”ä¼šå¤±æ•ˆï¼Œç›´æ¥è†¨èƒ€æˆé‡é‡çº§é”ï¼Œåé¢ç­‰å¾…çš„çº¿ç¨‹ä¼šè¿›å…¥é˜»å¡çŠ¶æ€ã€‚</strong></li></ol><h4 id="è½»é‡çº§é”-gt-æ— é”"><a href="#è½»é‡çº§é”-gt-æ— é”" class="headerlink" title="è½»é‡çº§é” -&gt; æ— é”"></a>è½»é‡çº§é” -&gt; æ— é”</h4><p><img src="https://oscimg.oschina.net/oscnet/up-1436d3a82486bc4f5927ee59a70628508ea.jpg" alt="å›¾3 è½»é‡çº§é”çŠ¶æ€æ—¶çš„æ ˆå¸§ä¸å¯¹è±¡çŠ¶æ€" loading="lazy"></p><ol><li>ä»ç„¶é‡‡ç”¨ CAS æ“ä½œï¼Œå°è¯•æŠŠé”è®°å½•ç©ºé—´ä¿å­˜çš„å¯¹è±¡çš„ <code>Mark Word</code> çš„å‰¯æœ¬æ›¿æ¢å›å¯¹è±¡çš„ <code>Mark Word</code> çš„ä½ç½®ä¸Šï¼›</li><li>å¦‚æœæ›¿æ¢æˆåŠŸï¼Œé‚£ä¹ˆè¯´æ˜æ‰§è¡ŒåŒæ­¥çš„è¿‡ç¨‹ä¸­æ²¡æœ‰äº§ç”Ÿç«äº‰ï¼Œå¯¹è±¡çš„é”éšå³è¢«é‡Šæ”¾ï¼Œé”æ ‡å¿—ä½è¢«ç½®ä¸º 01ï¼›</li><li>å¦‚æœæ›¿æ¢å¤±è´¥ï¼Œè¯´æ˜æœ‰å…¶ä»–çº¿ç¨‹å°è¯•è·å–è¿‡è¯¥å¯¹è±¡çš„é”ï¼Œé‚£ä¹ˆåœ¨é‡Šæ”¾é”ä¹‹åè¦å”¤é†’è¢«é˜»å¡æŒ‚èµ·çš„å…¶ä»–çº¿ç¨‹ã€‚</li></ol><h3 id="åå‘é”"><a href="#åå‘é”" class="headerlink" title="åå‘é”"></a>åå‘é”</h3><ul><li>æå‡æ€§èƒ½çš„ä¾æ®ï¼ˆç»éªŒæ³•åˆ™ï¼‰ï¼šå¯¹äºç»å¤§éƒ¨åˆ†çš„é”ï¼Œåœ¨æ•´ä¸ªåŒæ­¥æœŸé—´éƒ½æ˜¯ä¸å­˜åœ¨ç«äº‰çš„ï¼Œè€Œä¸”æ€»æ˜¯ç”±åŒä¸€ä¸ªçº¿ç¨‹å¤šæ¬¡è·å¾—ã€‚</li><li>æœ¬è´¨ï¼šé€šè¿‡åœ¨æ— ç«äº‰çš„æƒ…å†µä¸‹æŠŠæ•´ä¸ªåŒæ­¥æ“ä½œéƒ½æ¶ˆé™¤ã€‚</li><li>åå‘é”çš„â€œåâ€ï¼Œä¸»è¦å«ä¹‰æ˜¯ï¼šå¯¹è±¡çš„é”ä¼šåå‘äºç¬¬ä¸€æ¬¡è·å–è¯¥é”çš„çº¿ç¨‹ï¼Œè‹¥ä¹‹åä¸€ç›´æ²¡æœ‰å‡ºç°ç«äº‰æƒ…å†µï¼Œé‚£ä¹ˆä¹‹åè¯¥çº¿ç¨‹åœ¨æ‰§è¡Œåˆ°å¯¹åº”çš„åŒæ­¥å—æ—¶å°†ä¸å†æ‰§è¡Œä»»ä½•åŒæ­¥æ“ä½œï¼ˆåŒ…æ‹¬åŠ é”ã€è§£é”ã€<code>Mark Word</code> çš„æ›´æ–°ç­‰ï¼‰ã€‚</li></ul><blockquote><p>è‡ª JDK 6 èµ·ï¼ŒHotSpot è™šæ‹Ÿæœºå°†é»˜è®¤å¯åŠ¨åå‘é”ï¼Œå¯¹åº”çš„ JVM å¯åŠ¨å‚æ•°ä¸ºï¼š-XX:+UseBiasedLockingï¼›<br>è™½ç„¶æ˜¯é»˜è®¤å¯åŠ¨çš„ä½†æ›´å‡†ç¡®åœ°è¯´å®ƒæ˜¯åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨å‡ ç§’é’Ÿä¹‹åæ‰æ¿€æ´»ï¼Œå¦‚æœæƒ³è¦å…³é—­å»¶è¿Ÿï¼Œå¯ä»¥æŠŠ JVM çš„å¯åŠ¨å‚æ•°ï¼š-XX:BiasedLockingStartupDelayè®¾ç½®ä¸º 0ã€‚</p></blockquote><h4 id="æ— é”-gt-åå‘é”"><a href="#æ— é”-gt-åå‘é”" class="headerlink" title="æ— é” -&gt; åå‘é”"></a>æ— é” -&gt; åå‘é”</h4><ol><li>å½“å¯¹è±¡çš„é”è¢«ç¬¬ä¸€æ¬¡è·å–æ—¶ï¼Œä¼šæŠŠé”æ ‡å¿—ä½ç½®ä¸º 01ï¼Œåå‘æ¨¡å¼æ ‡å¿—ä½ç½®ä¸º 1 ï¼ŒåŒæ—¶ä½¿ç”¨ CAS æ“ä½œæŠŠè¯¥çº¿ç¨‹çš„IDè®°å½•è‡³å¯¹è±¡å¤´çš„ <code>Mark Word</code> ä¸­ï¼›</li><li>å¦‚æœä¸Šè¿° CAS æ“ä½œæˆåŠŸï¼Œé‚£ä¹ˆå¯¹è±¡è¿›å…¥åå‘é”çŠ¶æ€ï¼Œæ¥ä¸‹æ¥å†æ¬¡æ‰§è¡ŒåŒæ­¥å—ä»£ç æ—¶å°†ä¸å†æ‰§è¡Œä»»ä½•åŒæ­¥æ“ä½œï¼›</li></ol><h4 id="åå‘é”-gt-æ— é”-è½»é‡çº§é”"><a href="#åå‘é”-gt-æ— é”-è½»é‡çº§é”" class="headerlink" title="åå‘é” -&gt; æ— é” / è½»é‡çº§é”"></a>åå‘é” -&gt; æ— é” / è½»é‡çº§é”</h4><ol><li>ä¸€æ—¦å‡ºç°å…¶ä»–çº¿ç¨‹å°è¯•è·å–å¤„äºåå‘é”çŠ¶æ€çš„å¯¹è±¡æ—¶ï¼Œåå‘æ¨¡å¼é©¬ä¸Šç»“æŸï¼›</li><li>æ ¹æ®å½“å‰è¢«é”å®šçš„çŠ¶æ€å†³å®šæ˜¯å¦æ’¤é”€åå‘æ¨¡å¼ï¼Œå¦‚æœæ’¤é”€ï¼Œåˆ™ä¼šæŠŠé”æ ‡å¿—ä½æ¢å¤è‡³æ— é”çŠ¶æ€ï¼ˆ01ï¼‰ï¼Œæˆ–è€…è½»é‡çº§é”çŠ¶æ€ï¼ˆ00ï¼‰ã€‚</li></ol><h4 id="åå‘é”çš„å±€é™æ€§"><a href="#åå‘é”çš„å±€é™æ€§" class="headerlink" title="åå‘é”çš„å±€é™æ€§"></a>åå‘é”çš„å±€é™æ€§</h4><ul><li>é€šè¿‡å‰ä¸€èŠ‚çš„åˆ†ææˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåå‘é”çš„éªŒè¯æ˜¯é€šè¿‡è®°å½•åœ¨ <code>Mark Word</code> çš„çº¿ç¨‹ID å®ç°çš„ï¼Œ<del>ä½†æ˜¯æœ‰ä¸€ä¸ªç»†èŠ‚ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡å‘ç°ã€‚</del> <strong>çº¿ç¨‹ID å­˜å‚¨çš„ä½ç½®åˆšå¥½æ˜¯å­˜å‚¨å¯¹è±¡å“ˆå¸Œç çš„ä½ç½®</strong>ï¼Œè€Œåœ¨ Java ä¸­è§„å®šï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡è®¡ç®—è¿‡å“ˆå¸Œç ï¼Œé‚£ä¹ˆç†è®ºä¸Šåº”è¯¥ä¸€ç›´ä¿æŒä¸å˜ <del>ï¼ˆå®é™…ä¸Šä¹Ÿå¯ä»¥é€šè¿‡é‡è½½ hashCode() æ–¹æ³•å»æ”¹å˜è®¡ç®—å“ˆå¸Œç çš„æ–¹å¼ï¼Œè¿”å›è‡ªå®šä¹‰çš„å“ˆå¸Œç ï¼‰</del>ï¼Œå¦åˆ™å¾ˆå¤šä¾èµ–å¯¹è±¡å“ˆå¸Œç çš„ API éƒ½å¯èƒ½å­˜åœ¨å‡ºé”™çš„é£é™©ã€‚åŒæ—¶ï¼Œä½œä¸ºç»å¤§éƒ¨åˆ†å¯¹è±¡å“ˆå¸Œç æ¥æºçš„ Object::hashCode() æ–¹æ³•è¿”å›çš„æ˜¯ä¸€è‡´æ€§å“ˆå¸Œç ï¼Œè¿™ä¸ªå€¼è‡ªç¬¬ä¸€æ¬¡è®¡ç®—ä»¥åè¢«å­˜å‚¨è‡³å¯¹è±¡å¤´çš„ <code>Mark Word</code> ä¸­ï¼Œç†åº”æ°¸ä¸æ”¹å˜ã€‚</li><li>å› æ­¤ï¼Œå½“ä¸€ä¸ªå¯¹è±¡è®¡ç®—è¿‡å“ˆå¸Œç ä¹‹åï¼Œå°±å†ä¹Ÿä¸èƒ½è¿›å…¥åå‘é”çŠ¶æ€ï¼›</li><li>åŒæ—¶ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ­£å¤„äºåå‘é”çŠ¶æ€æ—¶ï¼Œåˆéœ€è¦è®¡ç®—å“ˆå¸Œç ï¼Œé‚£ä¹ˆå®ƒçš„åå‘é”ä¼šç›´æ¥è†¨èƒ€æˆé‡é‡çº§é”ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li>å„ç§é”çŠ¶æ€ä¹‹é—´çš„è½¬æ¢åŠå¯¹åº”çš„MarkWordçŠ¶æ€å›¾</li></ul><p><img src="https://oscimg.oschina.net/oscnet/up-167e465fde230a8263bbdab7c5f58a1361f.jpg" alt="å›¾4 é”çŠ¶æ€çš„è½¬æ¢åŠå¯¹åº”çš„MarkWordçŠ¶æ€" loading="lazy"></p><ul><li>ä¸‰ç§é”æœºåˆ¶çš„ä¼˜åŠ£å¯¹æ¯”</li></ul><p><img src="https://oscimg.oschina.net/oscnet/up-a3abf82e7c1285060264a8a692cdc86c58e.png" alt="è¡¨4   ä¸‰ç§é”æœºåˆ¶çš„ä¼˜åŠ£å¯¹æ¯”" loading="lazy"></p><h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><ol><li>æ–¹è…¾é£, é­é¹, ç¨‹æ™“æ˜ï¼Javaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ [M]. åŒ—äº¬ï¼šæœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ï¼Œ2015ï¼š11-16.</li><li>å‘¨å¿—æ˜ï¼æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº: JVMé«˜çº§ç‰¹æ€§ä¸æœ€ä½³å®è·µï¼ˆ3 ç‰ˆï¼‰[M]. åŒ—äº¬ï¼šæœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ï¼Œ2019ï¼š479-485.</li></ol><blockquote><p>æ–‡ç« æœ¬å¤©æˆï¼Œå¦™æ‰‹å¶å¾—ä¹‹ã€‚</p></blockquote><hr></div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="æ‰“èµ" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">ä½ çš„æ”¯æŒå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§çš„åŠ¨åŠ›.</div><div id="qr" style="display:none"><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/09/25/4sPRde.jpg"><img loading="lazy" src="https://z3.ax1x.com/2021/09/25/4sPRde.jpg" alt="æ”¯ä»˜å®" title="æ”¯ä»˜å®"></a><div><span style="color:#00a3ee"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/09/25/4sPrxx.png"><img loading="lazy" src="https://z3.ax1x.com/2021/09/25/4sPrxx.png" alt="å¾®ä¿¡æ”¯ä»˜" title="å¾®ä¿¡æ”¯ä»˜"></a><div><span style="color:#2dc100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>ONESTONE</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://www.onexstone.online/posts/fa978b73/" title="HotSpotå¯¹synchronizedçš„é”ä¼˜åŒ–ç­–ç•¥">https://www.onexstone.online/posts/fa978b73/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a>è®¸å¯åè®®ã€‚</li></ul><script>document.addEventListener("copy",function(n){const t=n.clipboardData||window.clipboardData;var e;!t||(e=window.getSelection().toString())&&(n.preventDefault(),t.setData("text/plain",e+"\n\n======ONEXSTONE======\næœ¬æ–‡ä½œè€…ï¼šONESTONE\næœ¬æ–‡é“¾æ¥ï¼šhttps://www.onexstone.online/posts/fa978b73/\nç‰ˆæƒå£°æ˜ï¼šæœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ CC BY-NC-SA 4.0 è®¸å¯åè®®ã€‚"))})</script></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/posts/d78266f6/" rel="prev" title="9ä¸ªä¸»æµçš„å¼€æºè®¸å¯åè®®"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">9ä¸ªä¸»æµçš„å¼€æºè®¸å¯åè®®</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/posts/cf2f473d/" rel="next" title="Javaä¸­ä¿è¯çº¿ç¨‹å®‰å…¨çš„ä¸‰æ¿æ–§"><span class="post-nav-text">Javaä¸­ä¿è¯çº¿ç¨‹å®‰å…¨çš„ä¸‰æ¿æ–§</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è¦ä¸è¦å’Œæˆ‘è¯´äº›ä»€ä¹ˆï¼Ÿ</span><br></div><div id="waline"></div><script>Yun.utils.getScript("https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js",()=>{const e={enable:!0,serverURL:"https://my-blogs-comment-system-gkgzbdn2n-horizon-x.vercel.app",visitor:!0,comment:!0,el:"#waline",lang:"zh-CN",path:"/posts/fa978b73/",dark:'html[data-user-color-scheme="dark"]',emoji:["https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-emoji","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-flag","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-weather","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/bilibili","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/alus","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/weibo","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/qq","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tieba"],avatar:"identicon"};new Waline(e)},window.Waline)</script></div><script src="/js/fancybox/jquery.fancybox.min.js"></script><script src="/js/fancybox/wrapImage.js"></script></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">äº¬ICPå¤‡2021017712å·</a></div><div class="copyright"><span>&copy; 2021 </span><a class="with-love" id="animate" target="_blank" rel="noopener" href="http://onexstone.online" title="about me"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></a><span class="author">ONESTONE</span><spen>|</spen><script>function blog_cnzz_analytics(){document.write(unescape("%3Cspan id='cnzz_stat_icon_1280383522'%3E%3C/span%3E%3Cscript src='https://v1.cnzz.com/z_stat.php%3Fid%3D1280383522' type='text/javascript'%3E%3C/script%3E"))}blog_cnzz_analytics()</script></div><div class="live_time"><span>æœ¬å°ç«™å·²èŒèŒå“’åœ°è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time(){setTimeout(blog_live_time,1e3);const e=new Date("2021-09-24T00:00:00"),t=new Date;var i=t.getTime()-e.getTime(),o=Math.floor(i/864e5),l=Math.floor(i%864e5/60/60/1e3),a=Math.floor(i%36e5/60/1e3),i=Math.floor(i%6e4/1e3);display_live_time.innerHTML=" "+o+" å¤© "+l+" å°æ—¶ "+a+" åˆ† "+i+" ç§’"}blog_live_time()</script></div><div class="footer-custom-text">Hosted by <a href="https://github.com/Horizon-x/Horizon-x.github.io" rel="noopener" target="_blank">GitHub Pages</a> & <a href="https://coding.net" rel="noopener" target="_blank">Coding Pages</a></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded",()=>{document.querySelector(".popup-trigger").addEventListener("click",()=>{document.querySelector(".popup").classList.add("show"),setTimeout(()=>{document.querySelector(".search-input").focus()},100)});const t=()=>{document.querySelector(".popup").classList.remove("show")};document.querySelector(".popup-btn-close").addEventListener("click",()=>{t()}),window.addEventListener("keyup",e=>{"Escape"===e.key&&t()})})</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="Search or jump to..."></div><div id="local-search-result"></div></div></div><script src="https://cdn.jsdelivr.net/npm/hexo-widget-tree@0.1.1/js/index.js"></script><div id="widget-tree"><ul><li class="tree-list-item"><i class="toggle-post-icon gg-folder-add"></i><a class="tree-list-link" href="/categories/Java/">Java</a><ul class="tree-list-children"><li class="tree-list-item"><i class="toggle-post-icon gg-folder-add"></i><a class="tree-list-link" href="/categories/Java/JVM/">JVM</a><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/posts/d4cbe240/" title="Javaå¯¹è±¡å¼•ç”¨çš„ç»†åŒ–"><i class="post-icon gg-file-document"></i>Javaå¯¹è±¡å¼•ç”¨çš„ç»†åŒ–</a></li></ul></li><li class="tree-list-item"><i class="toggle-post-icon gg-folder-add"></i><a class="tree-list-link" href="/categories/Java/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/">Javaå¹¶å‘ç¼–ç¨‹</a><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/posts/fa978b73/" title="HotSpotå¯¹synchronizedçš„é”ä¼˜åŒ–ç­–ç•¥"><i class="post-icon gg-file-document"></i>HotSpotå¯¹synchronizedçš„é”ä¼˜åŒ–ç­–ç•¥</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/posts/cf2f473d/" title="Javaä¸­ä¿è¯çº¿ç¨‹å®‰å…¨çš„ä¸‰æ¿æ–§"><i class="post-icon gg-file-document"></i>Javaä¸­ä¿è¯çº¿ç¨‹å®‰å…¨çš„ä¸‰æ¿æ–§</a></li><li class="tree-list-item"><a class="tree-list-post-link" href="/posts/369cb3ec/" title="æ·±å…¥å‰–ævolatileå…³é”®å­—"><i class="post-icon gg-file-document"></i>æ·±å…¥å‰–ævolatileå…³é”®å­—</a></li></ul></li></ul></li><li class="tree-list-item"><i class="toggle-post-icon gg-folder-add"></i><a class="tree-list-link" href="/categories/MyBlogs%E7%B3%BB%E5%88%97/">MyBlogsç³»åˆ—</a><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/posts/e0afdf66/" title="ä»é›¶å¼€å§‹æ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„å°ç«™"><i class="post-icon gg-file-document"></i>ä»é›¶å¼€å§‹æ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„å°ç«™</a></li></ul></li><li class="tree-list-item"><i class="toggle-post-icon gg-folder-add"></i><a class="tree-list-link" href="/categories/Reprint/">Reprint</a><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/posts/d78266f6/" title="9ä¸ªä¸»æµçš„å¼€æºè®¸å¯åè®®"><i class="post-icon gg-file-document"></i>9ä¸ªä¸»æµçš„å¼€æºè®¸å¯åè®®</a></li></ul></li><li class="tree-list-item"><i class="toggle-post-icon gg-folder-add"></i><a class="tree-list-link" href="/categories/Spring/">Spring</a><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/posts/78dbede3/" title="å¿«é€Ÿæ­å»ºä¸€ä¸ªç®€æ˜“çš„SpringBooté¡¹ç›®"><i class="post-icon gg-file-document"></i>å¿«é€Ÿæ­å»ºä¸€ä¸ªç®€æ˜“çš„SpringBooté¡¹ç›®</a></li></ul></li><li class="tree-list-item"><i class="toggle-post-icon gg-folder-add"></i><a class="tree-list-link" href="/categories/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/">ç½‘ç»œåè®®</a><ul class="tree-list-children"><li class="tree-list-item"><a class="tree-list-post-link" href="/posts/d9c27918/" title="HTTPåè®®ä¹‹çŠ¶æ€ç "><i class="post-icon gg-file-document"></i>HTTPåè®®ä¹‹çŠ¶æ€ç </a></li></ul></li></ul><div id="widget-tree-button"><i class="gg-chevron-right"></i></div></div><script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/hexo-github-calendar@1.21/hexo_githubcalendar.js"></script><script data-pjax>function GithubCalendarConfig(){var e=document.getElementById("calendar-main-inner");e&&"/about/"==location.pathname&&(console.log("å·²æŒ‚è½½github calendar"),e.insertAdjacentHTML("afterbegin",'<div class="post-block animated fadeIn" style="width:100%;height:auto;padding:40px 10px 10px 10px;"><div id="github_loading" style="height:100%;display: flex;align-items: center;justify-content: center;"><svg style="height:50px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div><div id="github_container"></div></div><footer class="post-footer"><div class="post-eof"></div></footer>')),GithubCalendar("https://python-github-calendar-api.vercel.app/api?Horizon-x",["#ebedf0","#f1f8ff","#dbedff","#c8e1ff","#79b8ff","#2188ff","#0366d6","#005cc5","#044289","#032f62","#05264c"],"Horizon-x")}document.getElementById("calendar-main-inner")&&GithubCalendarConfig()</script><style>#github_container{min-height:280px}@media screen and (max-width:650px){#github_container{min-height:0}}</style><style></style><script src="https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"https://cdn.jsdelivr.net/npm/live2d-widget-model-haruto@1.0.5/assets/haruto.model.json"},display:{position:"right",width:150,height:300},mobile:{show:!0},react:{opacity:.7},log:!1})</script><script>(function (w, d, s, id) {
            if (typeof (w.webpushr) !== 'undefined') return; w.webpushr = w.webpushr || function () { (w.webpushr.q = w.webpushr.q || []).push(arguments) }; var js, fjs = d.getElementsByTagName(s)[0]; js = d.createElement(s); js.id = id; js.async = 1; js.src = "https://cdn.webpushr.com/app.min.js";fjs.parentNode.appendChild(js);}(window, document, 'script', 'webpushr-jssdk'));webpushr('setup', { 'key': 'BN_dQoGLHrUXi0sHhuNwHGJlh9VryLBiBmPZ_dpECgQzkdUCH_kZA7-PYzh7LUIpFM9A9HIoh-kwANh97KlaL-o' });</script></body></html>